{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RemovePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","rel","target","Footer","currentYear","Date","getFullYear","CurrentUserContext","React","createContext","Card","card","onClick","onCardLike","onCardDelete","currentUser","useContext","isOwner","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","type","length","Main","props","cards","onEditAvatar","avatar","onEditProfile","about","onAddPlace","map","onCardClick","ImagePopup","isOpen","onClose","api","baseUrl","authorization","this","_baseUrl","_token","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","data","method","body","JSON","stringify","cardId","avatarLink","PopupWithForm","isLoading","title","onSubmit","submitText","children","isSubmitValid","buttonClassName","noValidate","disabled","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","nameError","setNameError","descriptionError","setDescriptionError","isNameError","setIsNameError","isDescriptionError","setIsDescriptionError","setIsSubmitValid","nameInputClassName","descriptionInputClassName","nameErrorClassName","descriptionErrorClassName","handleValidation","e","inputElement","validity","valid","validationMessage","useEffect","preventDefault","id","placeholder","minLength","maxLength","required","value","onChange","EditAvatarPopup","onUpdateAvatar","setAvatar","error","setError","isError","setIsError","inputClassName","errorClassName","AddPlacePopup","setLink","linkError","setLinkError","isLinkError","setIsLinkError","linkInputClassName","linkErrorClassName","RemovePopup","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRemovePopupOpen","setIsRemovePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isEditProfilePopupLoading","setIsEditProfilePopupLoading","isAddPlacePopupLoading","setIsAddPlacePopupLoading","isEditAvatarPopupLoading","setIsEditAvatarPopupLoading","isRemovePopupLoading","setIsRemovePopupLoading","setCards","selectedCard","setSelectedCard","closeAllPopups","getInitialCards","result","catch","err","console","log","getProfileInfo","Provider","tabIndex","onKeyDown","keyCode","changeLikeCardStatus","newCard","state","c","setProfileInfo","finally","addPlace","changeAvatar","removeCard","cardList","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8MAAe,SAASA,IACtB,OACE,wBAAQC,UAAU,SAAlB,SACE,qBAAKA,UAAU,oBAAf,SACE,mBAAGC,KAAK,iCAAiCD,UAAU,OAAOE,IAAI,aAAaC,OAAO,SAAlF,mBCJO,SAASC,IACtB,IAAMC,GAAc,IAAIC,MAAOC,cAE/B,OACE,wBAAQP,UAAU,SAAlB,SACE,qBAAKA,UAAU,oBAAf,SACE,oBAAGA,UAAU,oBAAb,kBAAoCK,EAApC,uGCJR,IAEeG,EAFYC,IAAMC,gBCClB,SAASC,EAAT,GAA8D,IAA9CC,EAA6C,EAA7CA,KAAMC,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,WAAYC,EAAkB,EAAlBA,aAClDC,EAAcP,IAAMQ,WAAWT,GAE/BU,EAAUN,EAAKO,MAAMC,MAAQJ,EAAYI,IACzCC,EAAyB,8BACNH,EAAU,8BAAgC,8BAG7DI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OACrDM,EAAuB,4BACNJ,EAAU,2BAA6B,8BAe9D,OACE,0BAAStB,UAAU,OAAnB,UACE,qBAAK2B,IAAKf,EAAKgB,KAAMC,IAAKjB,EAAKkB,KAAM9B,UAAU,cAAca,QAdjE,WACEA,EAAQD,MAcN,wBAAQZ,UAAWqB,EAA2BR,QAPlD,WACEE,EAAaH,MAOX,sBAAKZ,UAAU,aAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BY,EAAKkB,OAClC,sBAAK9B,UAAU,aAAf,UACE,wBAAQA,UAAW0B,EAAyBK,KAAK,SAASlB,QAflE,WACEC,EAAWF,MAeL,mBAAGZ,UAAU,oBAAb,SAAkCY,EAAKW,MAAMS,kBChCxC,SAASC,EAAKC,GAE3B,IAAMC,EAAQD,EAAMC,MAEdnB,EAAcP,IAAMQ,WAAWT,GAErC,OACE,uBAAMR,UAAU,UAAhB,UACE,qBAAKA,UAAU,UAAf,SACE,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,kBAAkBa,QAASqB,EAAME,aAAhD,SACE,qBACET,IAAKX,EAAYqB,OACjBrC,UAAU,wBACV6B,IAAI,sFAGR,sBAAK7B,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BgB,EAAYc,OAC3C,wBAAQ9B,UAAU,uBAAuB+B,KAAK,SAASlB,QAASqB,EAAMI,gBACtE,mBAAGtC,UAAU,uBAAb,SAAqCgB,EAAYuB,WAEnD,wBAAQvC,UAAU,sBAAsB+B,KAAK,SAASlB,QAASqB,EAAMM,kBAGzE,qBAAKxC,UAAU,QAAf,SACE,qBAAKA,UAAU,mBAAf,SAEImC,EAAMM,KAAI,SAAC7B,GACT,OAAO,cAACD,EAAD,CAAqBC,KAAMA,EAAMC,QAASqB,EAAMQ,YAAa5B,WAAYoB,EAAMpB,WAAYC,aAAcmB,EAAMnB,cAApGH,EAAKQ,eCjCtB,SAASuB,EAAT,GAAgD,IAA1B/B,EAAyB,EAAzBA,KAAMgC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QACjD,OACE,sBAAK7C,UAAS,iCAA4B4C,EAAS,eAAiB,IAApE,UACE,qBAAK5C,UAAU,2CAA2Ca,QAASgC,IACnE,sBAAK7C,UAAU,+CAAf,UACE,qBAAK2B,IAAKf,EAAOA,EAAKgB,KAAO,GAAIC,IAAKjB,EAAOA,EAAKkB,KAAO,GAAI9B,UAAU,iBACvE,oBAAIA,UAAU,uCAAd,SAAsDY,EAAOA,EAAKkB,KAAO,KACzE,wBAAQ9B,UAAU,sBAAsB+B,KAAK,SAASlB,QAASgC,U,kBCyFxDC,EALH,I,WA1FV,cAAyC,IAA3BC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,cAAiB,oBACtCC,KAAKC,SAAWH,EAChBE,KAAKE,OAASH,E,kDAGhB,SAAeI,GACb,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,+CAAyBJ,EAAIK,W,6BAGtC,WACE,OAAOC,MAAM,GAAD,OAAIT,KAAKC,SAAT,UAA2B,CACrCS,QAAS,CACPX,cAAeC,KAAKE,UAGvBS,KAAKX,KAAKY,kB,4BAGb,SAAeC,GACb,OAAOJ,MAAM,GAAD,OAAIT,KAAKC,SAAT,aAA8B,CACxCa,OAAQ,QACRJ,QAAS,CACPX,cAAeC,KAAKE,OACpB,eAAgB,oBAElBa,KAAMC,KAAKC,UAAU,CACnBpC,KAAMgC,EAAKhC,KACXS,MAAOuB,EAAKvB,UAEbqB,KAAKX,KAAKY,kB,4BAGf,WACE,OAAOH,MAAM,GAAD,OAAIT,KAAKC,SAAT,aAA8B,CACxCS,QAAS,CACPX,cAAeC,KAAKE,OACpB,eAAgB,sBAEjBS,KAAKX,KAAKY,kB,sBAGf,SAASC,GACP,OAAOJ,MAAM,GAAD,OAAIT,KAAKC,SAAT,UAA2B,CACrCa,OAAQ,OACRJ,QAAS,CACPX,cAAeC,KAAKE,OACpB,eAAgB,oBAElBa,KAAMC,KAAKC,UAAU,CACnBpC,KAAMgC,EAAKhC,KACXF,KAAMkC,EAAKlC,SAEZgC,KAAKX,KAAKY,kB,wBAGf,SAAWM,GACT,OAAOT,MAAM,GAAD,OAAIT,KAAKC,SAAT,kBAA2BiB,GAAU,CAC/CJ,OAAQ,SACRJ,QAAS,CACPX,cAAeC,KAAKE,UAErBS,KAAKX,KAAKY,kB,kCAGf,SAAqBM,EAAQ7C,GAC3B,OAAOoC,MAAM,GAAD,OAAIT,KAAKC,SAAT,wBAAiCiB,GAAU,CACrDJ,OAAQzC,EAAU,SAAW,MAC7BqC,QAAS,CACPX,cAAeC,KAAKE,UAErBS,KAAKX,KAAKY,kB,0BAGf,SAAaO,GACX,OAAOV,MAAM,GAAD,OAAIT,KAAKC,SAAT,oBAAqC,CAC/Ca,OAAQ,QACRJ,QAAS,CACPX,cAAeC,KAAKE,OACpB,eAAgB,oBAElBa,KAAMC,KAAKC,UAAU,CACnB7B,OAAQ+B,MAETR,KAAKX,KAAKY,oB,KAIL,CAAQ,CAClBd,QAAS,8CACTC,cAAe,yCC3FF,SAASqB,EAAT,GAAoH,IAA3FzB,EAA0F,EAA1FA,OAAQ0B,EAAkF,EAAlFA,UAAWxC,EAAuE,EAAvEA,KAAMyC,EAAiE,EAAjEA,MAAOC,EAA0D,EAA1DA,SAAUC,EAAgD,EAAhDA,WAAY5B,EAAoC,EAApCA,QAAS6B,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,cACzGC,EAAe,+BACMD,EAAkD,GAAlC,iCAG3C,OACE,sBAAK3E,UAAS,2BAAsB8B,EAAtB,YAA8Bc,EAAS,eAAiB,IAAtE,UACE,qBAAK5C,UAAU,4CAA4Ca,QAASgC,IAClE,sBAAK7C,UAAU,gDAAf,UACE,oBAAIA,UAAU,eAAd,SAA8BuE,IAC9B,uBAAMvE,UAAU,cAAc8B,KAAMA,EAAM0C,SAAUA,EAAUK,YAAU,EAAxE,UACGH,EACD,wBAAQ1E,UAAW4E,EAAiB7C,KAAK,SAAS+C,UAAWH,EAA7D,SAA8EL,EAAY,sDAAgBG,OAE5G,wBAAQzE,UAAU,sBAAsB+B,KAAK,SAASlB,QAASgC,UCZ1D,SAASkC,EAAT,GAAyE,IAA7CnC,EAA4C,EAA5CA,OAAQ0B,EAAoC,EAApCA,UAAWzB,EAAyB,EAAzBA,QAASmC,EAAgB,EAAhBA,aAE/DhE,EAAcP,IAAMQ,WAAWT,GAFgD,EAI7DC,IAAMwE,SAAS,IAJ8C,mBAI9EnD,EAJ8E,KAIxEoD,EAJwE,OAK/CzE,IAAMwE,SAAS,IALgC,mBAK9EE,EAL8E,KAKjEC,EALiE,OAQnD3E,IAAMwE,SAAS,IARoC,mBAQ9EI,EAR8E,KAQnEC,EARmE,OASrC7E,IAAMwE,SAAS,IATsB,mBAS9EM,EAT8E,KAS5DC,EAT4D,OAU/C/E,IAAMwE,UAAS,GAVgC,mBAU9EQ,EAV8E,KAUjEC,EAViE,OAWjCjF,IAAMwE,UAAS,GAXkB,mBAW9EU,EAX8E,KAW1DC,EAX0D,OAY3CnF,IAAMwE,UAAS,GAZ4B,mBAY9EN,EAZ8E,KAY/DkB,EAZ+D,KAe/EC,EAAkB,uBACNL,EAAc,0BAA4B,IAGtDM,EAAyB,uBACbJ,EAAqB,0BAA4B,IAG7DK,EAAkB,uBACNP,EAAc,uBAAyB,IAGnDQ,EAAyB,uBACbN,EAAqB,uBAAyB,IAwBhE,SAASO,EAAiBC,GACxB,IAAMC,EAAeD,EAAEhG,OAEvB,OAAOiG,EAAatE,MAClB,IAAK,cACCsE,EAAaC,SAASC,OAKxBZ,GAAe,GACfJ,EAAa,IACbO,GAAiB,KANjBH,GAAe,GACfJ,EAAac,EAAaG,mBAC1BV,GAAiB,IAMnB,MAEF,IAAK,kBACCO,EAAaC,SAASC,OAKxBV,GAAsB,GACtBJ,EAAoB,IACpBK,GAAiB,KANjBD,GAAsB,GACtBJ,EAAoBY,EAAaG,mBACjCV,GAAiB,KAyBzB,OAbApF,IAAM+F,WAAU,WACdtB,EAAQlE,EAAYc,MACpBsD,EAAepE,EAAYuB,SAC1B,CAACK,EAAQ5B,IAEZP,IAAM+F,WAAU,WACdd,GAAe,GACfE,GAAsB,GACtBC,GAAiB,GACjBP,EAAa,IACbE,EAAoB,MACnB,CAAC5C,IAGF,eAACyB,EAAD,CAAevC,KAAK,OAAOyC,MAAM,4HAAwBE,WAAW,yDAAY7B,OAAQA,EAAQ0B,UAAWA,EAAWK,cAAeA,EAAe9B,QAASA,EAAS2B,SAvDxK,SAAsB2B,GACpBA,EAAEM,iBAEFzB,EAAa,CACXlD,OACAS,MAAO4C,KAkDT,UACE,uBACEnF,UAAW8F,EACX/D,KAAK,OACLD,KAAK,cACL4E,GAAG,cACHC,YAAY,8CACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,MAAK,UAAKjF,GACVkF,SA9EN,SAA0Bb,GACxBjB,EAAQiB,EAAEhG,OAAO4G,OAEjBb,EAAiBC,MA6Ef,sBAAMnG,UAAWgG,EAAjB,SAAuCP,GAAeJ,IACtD,uBACErF,UAAW+F,EACXhE,KAAK,OACLD,KAAK,kBACL4E,GAAG,kBACHC,YAAY,kFACZC,UAAU,IACVC,UAAU,MACVC,UAAQ,EACRC,MAAK,UAAK5B,GACV6B,SArFN,SAAiCb,GAC/Bf,EAAee,EAAEhG,OAAO4G,OAExBb,EAAiBC,MAoFf,sBAAMnG,UAAWiG,EAAjB,SAA8CN,GAAsBJ,OC5H3D,SAAS0B,EAAT,GAA0E,IAA/CrE,EAA8C,EAA9CA,OAAQ0B,EAAsC,EAAtCA,UAAWzB,EAA2B,EAA3BA,QAASqE,EAAkB,EAAlBA,eAE9DlG,EAAcP,IAAMQ,WAAWT,GAFiD,EAI1DC,IAAMwE,SAAS,IAJ2C,mBAI/E5C,EAJ+E,KAIvE8E,EAJuE,OAO5D1G,IAAMwE,SAAS,IAP6C,mBAO/EmC,EAP+E,KAOxEC,EAPwE,OAQxD5G,IAAMwE,UAAS,GARyC,mBAQ/EqC,EAR+E,KAQtEC,EARsE,OAS5C9G,IAAMwE,UAAS,GAT6B,mBAS/EN,EAT+E,KAShEkB,EATgE,KAWhF2B,EAAc,uBACFF,EAAU,0BAA4B,IAGlDG,EAAc,uBACFH,EAAU,uBAAyB,IAyCrD,OAVA7G,IAAM+F,WAAU,WACdW,EAAU,MACT,CAACvE,EAAQ5B,IAEZP,IAAM+F,WAAU,WACde,GAAW,GACX1B,GAAiB,GACjBwB,EAAS,MACR,CAACzE,IAGF,eAACyB,EAAD,CAAevC,KAAK,SAASyC,MAAM,wFAAkB3B,OAAQA,EAAQ0B,UAAWA,EAAWK,cAAeA,EAAe9B,QAASA,EAAS2B,SAvC7I,SAA4B2B,GAC1BA,EAAEM,iBAEFS,EAAe,CACb7E,OAAQA,KAmC+JoC,WAAW,yDAApL,UACE,uBACEzE,UAAWwH,EACXzF,KAAK,MACLD,KAAK,aACL4E,GAAG,aACHC,YAAY,qGACZC,UAAU,IACVE,UAAQ,EACRE,SAxCN,SAA4Bb,GAC1BgB,EAAUhB,EAAEhG,OAAO4G,OAKrB,SAA0BZ,GACxB,IAAMC,EAAeD,EAAEhG,OAElBiG,EAAaC,SAASC,OAKzBiB,GAAW,GACXF,EAAS,IACTxB,GAAiB,KANjB0B,GAAW,GACXF,EAASjB,EAAaG,mBACtBV,GAAiB,IATnBK,CAAiBC,IAsCbY,MAAO1E,IAET,sBAAMrC,UAAWyH,EAAgBf,GAAG,mBAApC,SAAwDY,EAAUF,EAAQ,QCvEjE,SAASM,EAAT,GAAoE,IAA3C9E,EAA0C,EAA1CA,OAAQ0B,EAAkC,EAAlCA,UAAWzB,EAAuB,EAAvBA,QAASL,EAAc,EAAdA,WAAc,EAExD/B,IAAMwE,SAAS,IAFyC,mBAEzEnD,EAFyE,KAEnEoD,EAFmE,OAGxDzE,IAAMwE,SAAS,IAHyC,mBAGzErD,EAHyE,KAGnE+F,EAHmE,OAM9ClH,IAAMwE,SAAS,IAN+B,mBAMzEI,EANyE,KAM9DC,EAN8D,OAO9C7E,IAAMwE,SAAS,IAP+B,mBAOzE2C,EAPyE,KAO9DC,EAP8D,OAQ1CpH,IAAMwE,UAAS,GAR2B,mBAQzEQ,EARyE,KAQ5DC,EAR4D,OAS1CjF,IAAMwE,UAAS,GAT2B,mBASzE6C,EATyE,KAS5DC,EAT4D,OAUtCtH,IAAMwE,UAAS,GAVuB,mBAUzEN,EAVyE,KAU1DkB,EAV0D,KAa1EC,EAAkB,uBACNL,EAAc,0BAA4B,IAGtDuC,EAAkB,uBACNF,EAAc,0BAA4B,IAGtD9B,EAAkB,uBACNP,EAAc,uBAAyB,IAGnDwC,EAAkB,uBACNH,EAAc,uBAAyB,IAwBzD,SAAS5B,EAAiBC,GACxB,IAAMC,EAAeD,EAAEhG,OAEvB,OAAOiG,EAAatE,MAClB,IAAK,YACCsE,EAAaC,SAASC,OAKxBZ,GAAe,GACfJ,EAAa,MALbI,GAAe,GACfJ,EAAac,EAAaG,oBAO5B,MAEF,IAAK,YACCH,EAAaC,SAASC,OAKxByB,GAAe,GACfF,EAAa,MALbE,GAAe,GACfF,EAAazB,EAAaG,qBA8BlC,OAjBA9F,IAAM+F,WAAU,WACdtB,EAAQ,IACRyC,EAAQ,MACP,CAAC/E,IAEJnC,IAAM+F,WAAU,WACdd,GAAe,GACfqC,GAAe,GACflC,GAAiB,GACjBP,EAAa,IACbuC,EAAa,MACZ,CAACjF,IAEJnC,IAAM+F,WAAU,WACmCX,IAA/CJ,GAAgBqC,IAAehG,IAAQF,MACxC,CAAC6D,EAAaqC,EAAahG,EAAMF,IAGlC,eAACyC,EAAD,CAAevC,KAAK,MAAMyC,MAAM,gEAAc3B,OAAQA,EAAQ0B,UAAWA,EAAWK,cAAeA,EAAe9B,QAASA,EAAS2B,SA3DtI,SAA8B2B,GAC5BA,EAAEM,iBAEFjE,EAAW,CACTV,OACAF,UAsDkK6C,WAAW,6CAA/K,UACE,uBACEzE,UAAW8F,EACX/D,KAAK,OACLD,KAAK,YACL4E,GAAG,YACHC,YAAY,mDACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,MAAOjF,EACPkF,SAlFN,SAA0Bb,GACxBjB,EAAQiB,EAAEhG,OAAO4G,OAEjBb,EAAiBC,MAiFf,sBAAMnG,UAAWgG,EAAoBU,GAAG,kBAAxC,SAA4DjB,GAAeJ,IAC3E,uBACErF,UAAWgI,EACXjG,KAAK,MACLD,KAAK,YACL4E,GAAG,YACHC,YAAY,qGACZC,UAAU,IACVE,UAAQ,EACRC,MAAOnF,EACPoF,SAxFN,SAA0Bb,GACxBwB,EAAQxB,EAAEhG,OAAO4G,OAEjBb,EAAiBC,MAuFf,sBAAMnG,UAAWiI,EAAoBvB,GAAG,kBAAxC,SAA4DoB,GAAeF,OC9HlE,SAASM,EAAT,GAA0E,IAAnDtF,EAAkD,EAAlDA,OAAQ0B,EAA0C,EAA1CA,UAAWzB,EAA+B,EAA/BA,QAAS9B,EAAsB,EAAtBA,aAAcH,EAAQ,EAARA,KAQ9E,OACE,cAACyD,EAAD,CAAevC,KAAK,SAASyC,MAAM,2DAAc3B,OAAQA,EAAQ0B,UAAWA,EAAWzB,QAASA,EAAS2B,SAP3G,SAA0B2B,GACxBA,EAAEM,iBAEF1F,EAAaH,IAIwH6D,WAAW,eAAKE,eAAe,IC2JzJwD,MA1Jf,WAAgB,IAAD,EAEyB1H,IAAMwE,SAAS,IAFxC,mBAENjE,EAFM,KAEOoH,EAFP,OAK+C3H,IAAMwE,UAAS,GAL9D,mBAKNoD,EALM,KAKkBC,EALlB,OAMyC7H,IAAMwE,UAAS,GANxD,mBAMNsD,EANM,KAMeC,EANf,OAO6C/H,IAAMwE,UAAS,GAP5D,mBAONwD,EAPM,KAOiBC,EAPjB,OAQqCjI,IAAMwE,UAAS,GARpD,mBAQN0D,EARM,KAQaC,EARb,OASmCnI,IAAMwE,UAAS,GATlD,mBASN4D,EATM,KASYC,EATZ,OAYqDrI,IAAMwE,UAAS,GAZpE,mBAYN8D,EAZM,KAYqBC,EAZrB,OAa+CvI,IAAMwE,UAAS,GAb9D,mBAaNgE,EAbM,KAakBC,EAblB,OAcmDzI,IAAMwE,UAAS,GAdlE,mBAcNkE,EAdM,KAcoBC,EAdpB,OAe2C3I,IAAMwE,UAAS,GAf1D,mBAeNoE,EAfM,KAegBC,EAfhB,QAiBa7I,IAAMwE,SAAS,IAjB5B,qBAiBN9C,GAjBM,MAiBCoH,GAjBD,SAmB2B9I,IAAMwE,SAAS,MAnB1C,qBAmBNuE,GAnBM,MAmBQC,GAnBR,MAwEb,SAASC,KACPpB,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBE,GAAqB,GACrBE,GAAoB,GACpBW,GAAgB,MA0DlB,OAnHAhJ,IAAM+F,WAAU,WACd1D,EAAI6G,kBACH/F,MAAK,SAACgG,GACLL,GAASK,MAEVC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAC3B,IAqGHrJ,IAAM+F,WAAU,WACd1D,EAAImH,iBACHrG,MAAK,SAACE,GACLsE,EAAetE,MAEhB+F,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAC3B,IAGD,cAAC,EAAmBI,SAApB,CAA6BnD,MAAO/F,EAApC,SACE,qBAAKhB,UAAU,OAAOmK,SAAS,IAAIC,UAAWzB,GAAqBF,GAAyBJ,GAA0BQ,GAAoBN,EAhB9I,SAAuBpC,GACJ,KAAdA,EAAEkE,SACHX,MAcgL,KAAhL,SACE,sBAAK1J,UAAU,gBAAf,UACE,cAACD,EAAD,IACA,cAACkC,EAAD,CAAMK,cAtFd,WACEgG,GAA0B,IAqFyB9F,WAlFrD,WACEgG,GAAuB,IAiF6DpG,aA9EtF,WACEsG,GAAyB,IA6EgGhG,YA1E3H,SAAyB9B,GACvBkI,GAAoB,GACpBW,GAAgB7I,IAwEuIuB,MAAOA,GAAOrB,WAhHvK,SAAwBF,GACtB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAE3D0B,EAAIwH,qBAAqB1J,EAAKQ,IAAKE,GAASsC,MAAK,SAAC2G,GAChDhB,IAAS,SAACiB,GAAD,OAAWA,EAAM/H,KAAI,SAACgI,GAAD,OAAOA,EAAErJ,MAAQR,EAAKQ,IAAMmJ,EAAUE,WAErEZ,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OA0GqK/I,aA3FnM,SAAgCH,GAC9BgI,GAAqB,GACrBa,GAAgB7I,MA0FV,cAACR,EAAD,IACA,cAAC2E,EAAD,CAAkBnC,OAAQyF,EAAwB/D,UAAWyE,EAA2BlG,QAAS6G,GAAgB1E,aA9DzH,SAA0BlB,GACxBkF,GAA6B,GAC7BlG,EAAI4H,eAAe5G,GAAMF,MAAK,SAACR,GAC7BgF,EAAehF,GACfsG,QAEDG,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3Ba,SAAQ,WACP3B,GAA6B,SAuDzB,cAACtB,EAAD,CAAe9E,OAAQ2F,EAAqBjE,UAAW2E,EAAwBpG,QAAS6G,GAAgBlH,WArChH,SAAwBsB,GACtBoF,GAA0B,GAC1BpG,EAAI8H,SAAS,CACX9I,KAAMgC,EAAKhC,KACXF,KAAMkC,EAAKlC,OACVgC,MAAK,SAAC2G,GACPhB,GAAS,CAACgB,GAAF,mBAAcpI,MACtBuH,QAEDG,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3Ba,SAAQ,WACPzB,GAA0B,SA2BtB,cAACvG,EAAD,CAAYC,OAAQiG,EAAkBjI,KAAM4I,GAAc3G,QAAS6G,KACnE,cAACzC,EAAD,CAAiBrE,OAAQ6F,EAAuBnE,UAAW6E,EAA0BtG,QAAS6G,GAAgBxC,eArDtH,YAAuC,IAAV7E,EAAS,EAATA,OAC3B+G,GAA4B,GAC5BtG,EAAI+H,aAAaxI,GAAQuB,MAAK,SAACR,GAC7BgF,EAAehF,GACfsG,QAEDG,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEba,SAAQ,WACPvB,GAA4B,SA4CxB,cAAClB,EAAD,CAAatH,KAAM4I,GAAc3G,QAAS6G,GAAgB9G,OAAQ+F,EAAmBrE,UAAW+E,EAAsBtI,aA7G9H,SAA0BH,GACxB0I,GAAwB,GACxBxG,EAAIgI,WAAWlK,EAAKQ,KAAKwC,MAAK,WAC5B2F,IAAS,SAACwB,GACR,OAAOA,EAASC,QAAO,SAACT,GAAD,OAAaA,EAAQnJ,MAAQR,EAAKQ,UAE3DsI,QAEDG,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3Ba,SAAQ,kBAAMrB,GAAwB,iBC/C5B2B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvH,MAAK,YAAkD,IAA/CwH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.fb398b42.chunk.js","sourcesContent":["export default function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__container\">\r\n        <a href=\"https://maximka76667.github.io\" className=\"logo\" rel=\"noreferrer\" target=\"_blank\"> </a>\r\n      </div>\r\n    </header>\r\n  )\r\n}","export default function Footer() {\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"footer__container\">\r\n        <p className=\"footer__copyright\">© {currentYear}. Максим Гривенный</p>\r\n      </div>\r\n    </footer>\r\n  )\r\n}","import React from 'react'\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from 'react'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nexport default function Card({ card, onClick, onCardLike, onCardDelete,  }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwner = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `card__delete-button ${isOwner ? 'card__delete-button_visible' : 'card__delete-button_hidden'}`\r\n  ); \r\n\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `card__like-button ${isLiked ? 'card__like-button_active' : 'card__like-button_disabled'}`\r\n  );\r\n\r\n  function handleClick() {\r\n    onClick(card)\r\n  }\r\n\r\n  function handleCardLike() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"card\">\r\n      <img src={card.link} alt={card.name} className=\"card__image\" onClick={handleClick} />\r\n      <button className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n      <div className=\"card__info\">\r\n        <h2 className=\"card__title\">{card.name}</h2>\r\n        <div className=\"card__like\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleCardLike} ></button>\r\n          <p className=\"card__likes-count\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}","import React from 'react'\r\nimport Card from './Card'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nexport default function Main(props) {\r\n\r\n  const cards = props.cards;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <div className=\"profile\">\r\n        <div className=\"profile__container\">\r\n          <div className=\"profile__avatar\" onClick={props.onEditAvatar}>\r\n            <img\r\n              src={currentUser.avatar}\r\n              className=\"profile__avatar-image\"\r\n              alt=\"Аватар профиля\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\r\n            <p className=\"profile__description\">{currentUser.about}</p>\r\n          </div>\r\n          <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n        </div>\r\n      </div>\r\n      <div className=\"cards\">\r\n        <div className=\"cards__container\">\r\n          {\r\n            cards.map((card) => {\r\n              return <Card key={card._id} card={card} onClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    </main>\r\n  )\r\n}","export default function ImagePopup({ card, isOpen, onClose }) {\r\n  return(\r\n    <div className={`popup popup_type_image ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__overlay popup__overlay_type_image\" onClick={onClose}></div>\r\n      <div className=\"popup__container popup__container_type_image\">\r\n        <img src={card ? card.link : ''} alt={card ? card.name : ''} className=\"popup__image\" />\r\n        <h2 className=\"popup__title popup__title_type_image\">{card ? card.name : ''}</h2>\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","class Api {\r\n  constructor({ baseUrl, authorization }) {\r\n    this._baseUrl = baseUrl;\r\n    this._token = authorization;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  setProfileInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addPlace(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'DELETE' : 'PUT',\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  changeAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatarLink,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-22',\r\n  authorization: '6e0d021d-4f3f-452d-8c82-5a27e9592d29'\r\n});\r\n\r\nexport default api;","import React from 'react'\r\n\r\nexport default function PopupWithForm({ isOpen, isLoading, name, title, onSubmit, submitText, onClose, children, isSubmitValid }) {\r\n  const buttonClassName = (\r\n    `popup__submit-button ${!isSubmitValid ? 'popup__submit-button_disabled' : ''}`\r\n  );\r\n\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__overlay popup__overlay_type_remove\" onClick={onClose}></div>\r\n        <div className=\"popup__container popup__container_type_remove\">\r\n          <h2 className=\"popup__title\">{title}</h2>\r\n          <form className=\"popup__form\" name={name} onSubmit={onSubmit} noValidate>\r\n            {children}\r\n            <button className={buttonClassName} type=\"submit\" disabled={!isSubmitValid}>{ isLoading ? 'Загрузка...' : submitText }</button>\r\n          </form>\r\n          <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n        </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nexport default function EditProfilePopup({ isOpen, isLoading, onClose, onUpdateUser }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  // Validation Constants\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [descriptionError, setDescriptionError] = React.useState('');\r\n  const [isNameError, setIsNameError] = React.useState(false);\r\n  const [isDescriptionError, setIsDescriptionError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  // ClassNames\r\n  const nameInputClassName = (\r\n    `popup__input ${isNameError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const descriptionInputClassName = (\r\n    `popup__input ${isDescriptionError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const nameErrorClassName = (\r\n    `popup__error ${isNameError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  const descriptionErrorClassName = (\r\n    `popup__error ${isDescriptionError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    switch(inputElement.name) {\r\n      case 'profileName' : {\r\n        if(!inputElement.validity.valid) {\r\n          setIsNameError(true);\r\n          setNameError(inputElement.validationMessage);\r\n          setIsSubmitValid(false);\r\n        } else {\r\n          setIsNameError(false);\r\n          setNameError('');\r\n          setIsSubmitValid(true);\r\n        }\r\n        break;\r\n      }\r\n      case 'profilePosition' : {\r\n        if(!inputElement.validity.valid) {\r\n          setIsDescriptionError(true);\r\n          setDescriptionError(inputElement.validationMessage);\r\n          setIsSubmitValid(false);\r\n        } else {\r\n          setIsDescriptionError(false);\r\n          setDescriptionError('');\r\n          setIsSubmitValid(true);\r\n        }\r\n        break;\r\n      }\r\n      default: {}\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [isOpen, currentUser]);\r\n\r\n  React.useEffect(() => {\r\n    setIsNameError(false);\r\n    setIsDescriptionError(false);\r\n    setIsSubmitValid(true);\r\n    setNameError('');\r\n    setDescriptionError('');\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" submitText=\"Сохранить\" isOpen={isOpen} isLoading={isLoading} isSubmitValid={isSubmitValid} onClose={onClose} onSubmit={handleSubmit} >\r\n      <input\r\n        className={nameInputClassName}\r\n        type=\"text\"\r\n        name=\"profileName\"\r\n        id=\"profileName\"\r\n        placeholder=\"Ваше имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n        value={`${name}`}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className={nameErrorClassName}>{ isNameError && nameError }</span>\r\n      <input\r\n        className={descriptionInputClassName}\r\n        type=\"text\"\r\n        name=\"profilePosition\"\r\n        id=\"profilePosition\"\r\n        placeholder=\"Ваша должность\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n        value={`${description}`}\r\n        onChange={handleChangeDescription}\r\n      />\r\n      <span className={descriptionErrorClassName}>{ isDescriptionError && descriptionError }</span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nexport default function EditAvatarPopup({ isOpen, isLoading, onClose, onUpdateAvatar }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [avatar, setAvatar] = React.useState('');\r\n\r\n  // Validation Constants\r\n  const [error, setError] = React.useState('');\r\n  const [isError, setIsError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  const inputClassName = (\r\n    `popup__input ${isError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const errorClassName = (\r\n    `popup__error ${isError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  function handleUpdateAvatar(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatar\r\n    });\r\n  }\r\n\r\n  function handleChangeAvatar(e) {\r\n    setAvatar(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    if (!inputElement.validity.valid) {\r\n      setIsError(true);\r\n      setError(inputElement.validationMessage);\r\n      setIsSubmitValid(false);\r\n    } else {\r\n      setIsError(false);\r\n      setError('');\r\n      setIsSubmitValid(true);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setAvatar('');\r\n  }, [isOpen, currentUser])\r\n\r\n  React.useEffect(() => {\r\n    setIsError(false);\r\n    setIsSubmitValid(false);\r\n    setError('');\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={isOpen} isLoading={isLoading} isSubmitValid={isSubmitValid} onClose={onClose} onSubmit={handleUpdateAvatar} submitText=\"Сохранить\">\r\n      <input\r\n        className={inputClassName}\r\n        type=\"url\"\r\n        name=\"avatarLink\"\r\n        id=\"avatarLink\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        minLength=\"2\"\r\n        required\r\n        onChange={handleChangeAvatar}\r\n        value={avatar}\r\n      />\r\n      <span className={errorClassName} id=\"avatarLink-error\">{isError ? error : ''}</span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nexport default function AddPlacePopup({ isOpen, isLoading, onClose, onAddPlace }) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  // Validation Constants\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [linkError, setLinkError] = React.useState('');\r\n  const [isNameError, setIsNameError] = React.useState(false);\r\n  const [isLinkError, setIsLinkError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  // ClassNames\r\n  const nameInputClassName = (\r\n    `popup__input ${isNameError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const linkInputClassName = (\r\n    `popup__input ${isLinkError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const nameErrorClassName = (\r\n    `popup__error ${isNameError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  const linkErrorClassName = (\r\n    `popup__error ${isLinkError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    onAddPlace({\r\n      name,\r\n      link\r\n    })\r\n  }\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    switch(inputElement.name) {\r\n      case 'placeName' : {\r\n        if(!inputElement.validity.valid) {\r\n          setIsNameError(true);\r\n          setNameError(inputElement.validationMessage);\r\n          \r\n        } else {\r\n          setIsNameError(false);\r\n          setNameError('');\r\n          \r\n        }\r\n        break;\r\n      }\r\n      case 'placeLink' : {\r\n        if(!inputElement.validity.valid) {\r\n          setIsLinkError(true);\r\n          setLinkError(inputElement.validationMessage);\r\n          \r\n        } else {\r\n          setIsLinkError(false);\r\n          setLinkError('');\r\n          \r\n        }\r\n        break;\r\n      }\r\n      default: {}\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [isOpen])\r\n\r\n  React.useEffect(() => {\r\n    setIsNameError(false);\r\n    setIsLinkError(false);\r\n    setIsSubmitValid(false);\r\n    setNameError('');\r\n    setLinkError('');\r\n  }, [isOpen])\r\n\r\n  React.useEffect(() => {\r\n    (!isNameError && !isLinkError && name && link) ? setIsSubmitValid(true) : setIsSubmitValid(false)\r\n  }, [isNameError, isLinkError, name, link])\r\n\r\n  return (\r\n    <PopupWithForm name=\"add\" title=\"Новое место\" isOpen={isOpen} isLoading={isLoading} isSubmitValid={isSubmitValid} onClose={onClose} onSubmit={handleAddPlaceSubmit} submitText=\"Создать\">\r\n      <input\r\n        className={nameInputClassName}\r\n        type=\"text\"\r\n        name=\"placeName\"\r\n        id=\"placeName\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        required\r\n        value={name}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className={nameErrorClassName} id=\"placeName-error\">{ isNameError && nameError }</span>\r\n      <input\r\n        className={linkInputClassName}\r\n        type=\"url\"\r\n        name=\"placeLink\"\r\n        id=\"placeLink\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        minLength=\"2\"\r\n        required\r\n        value={link}\r\n        onChange={handleChangeLink}\r\n      />\r\n      <span className={linkErrorClassName} id=\"placeLink-error\">{ isLinkError && linkError }</span>\r\n    </PopupWithForm>\r\n  )\r\n}","import PopupWithForm from './PopupWithForm'\r\n\r\nexport default function RemovePopup({ isOpen, isLoading, onClose, onCardDelete, card }) {\r\n\r\n  function handleCardDelete(e) {\r\n    e.preventDefault();\r\n\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"remove\" title=\"Вы уверены?\" isOpen={isOpen} isLoading={isLoading} onClose={onClose} onSubmit={handleCardDelete} submitText=\"Да\" isSubmitValid={true} />\r\n  )\r\n}","import React from 'react'\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\nimport Main from './Main'\r\nimport ImagePopup from './ImagePopup'\r\nimport api from '../utils/api'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport RemovePopup from './RemovePopup';\r\n\r\nfunction App() {\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  // isOpen\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isRemovePopupOpen, setIsRemovePopupOpen] = React.useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n\r\n  // isLoading\r\n  const [isEditProfilePopupLoading, setIsEditProfilePopupLoading] = React.useState(false);\r\n  const [isAddPlacePopupLoading, setIsAddPlacePopupLoading] = React.useState(false);\r\n  const [isEditAvatarPopupLoading, setIsEditAvatarPopupLoading] = React.useState(false);\r\n  const [isRemovePopupLoading, setIsRemovePopupLoading] = React.useState(false);\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n    .then((result) => {\r\n      setCards(result)\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    \r\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setIsRemovePopupLoading(true);\r\n    api.removeCard(card._id).then(() => {\r\n      setCards((cardList) => {\r\n        return cardList.filter((newCard) => newCard._id !== card._id)\r\n      })\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => console.log(err))\r\n    .finally(() => setIsRemovePopupLoading(false))\r\n  }\r\n\r\n  function handleRemovePopupClick(card) {\r\n    setIsRemovePopupOpen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setIsImagePopupOpen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsRemovePopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    setIsEditProfilePopupLoading(true);\r\n    api.setProfileInfo(data).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => console.log(err))\r\n    .finally(() => {\r\n      setIsEditProfilePopupLoading(false);\r\n    })\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}) {\r\n    setIsEditAvatarPopupLoading(true);\r\n    api.changeAvatar(avatar).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n    .finally(() => {\r\n      setIsEditAvatarPopupLoading(false);\r\n    })\r\n  }\r\n\r\n  function handleAddPlace(data) {\r\n    setIsAddPlacePopupLoading(true);\r\n    api.addPlace({\r\n      name: data.name,\r\n      link: data.link\r\n    }).then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => console.log(err))\r\n    .finally(() => {\r\n      setIsAddPlacePopupLoading(false);\r\n    })\r\n  }\r\n\r\n  function handleKeyDown(e) {\r\n    if(e.keyCode === 27) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getProfileInfo()\r\n    .then((data) => {\r\n      setCurrentUser(data)\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\" tabIndex=\"0\" onKeyDown={isRemovePopupOpen || isEditAvatarPopupOpen || isEditProfilePopupOpen || isImagePopupOpen || isAddPlacePopupOpen ? handleKeyDown : null }>\r\n        <div className=\"page__content\">\r\n          <Header />\r\n          <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleRemovePopupClick} />\r\n          <Footer />\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} isLoading={isEditProfilePopupLoading} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} isLoading={isAddPlacePopupLoading} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\r\n          <ImagePopup isOpen={isImagePopupOpen} card={selectedCard} onClose={closeAllPopups} />\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} isLoading={isEditAvatarPopupLoading} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n          <RemovePopup card={selectedCard} onClose={closeAllPopups} isOpen={isRemovePopupOpen} isLoading={isRemovePopupLoading} onCardDelete={handleCardDelete} />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}